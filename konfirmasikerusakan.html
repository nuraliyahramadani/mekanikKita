<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>konfirmasi kerusakan</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</script>
  </head>
  <body style="background-color: rgb(207, 233, 240);">
    <nav class="navbar navbar-expand-lg navbar-light bg-info">
      <div class="container">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          fill="currentColor"
          class="bi bi-tools"
          viewBox="0 0 16 16"
        >
          <path
            d="M1 0 0 1l2.2 3.081a1 1 0 0 0 .815.419h.07a1 1 0 0 1 .708.293l2.675 2.675-2.617 2.654A3.003 3.003 0 0 0 0 13a3 3 0 1 0 5.878-.851l2.654-2.617.968.968-.305.914a1 1 0 0 0 .242 1.023l3.27 3.27a.997.997 0 0 0 1.414 0l1.586-1.586a.997.997 0 0 0 0-1.414l-3.27-3.27a1 1 0 0 0-1.023-.242L10.5 9.5l-.96-.96 2.68-2.643A3.005 3.005 0 0 0 16 3c0-.269-.035-.53-.102-.777l-2.14 2.141L12 4l-.364-1.757L13.777.102a3 3 0 0 0-3.675 3.68L7.462 6.46 4.793 3.793a1 1 0 0 1-.293-.707v-.071a1 1 0 0 0-.419-.814L1 0Zm9.646 10.646a.5.5 0 0 1 .708 0l2.914 2.915a.5.5 0 0 1-.707.707l-2.915-2.914a.5.5 0 0 1 0-.708ZM3 11l.471.242.529.026.287.445.445.287.026.529L5 13l-.242.471-.026.529-.445.287-.287.445-.529.026L3 15l-.471-.242L2 14.732l-.287-.445L1.268 14l-.026-.529L1 13l.242-.471.026-.529.445-.287.287-.445.529-.026L3 11Z"
          />
        </svg>
        <a class="navbar-brand ml-2" href="#">Mekanik<b>Kita</b></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="home.html"
                >Home <span class="sr-only">(current)</span></a
              >
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link" href="bengkel.html">info bengkel Terdekat</a>
            </li> -->
            <li class="nav-item">
              <a class="nav-link" href="about.html">about</a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <input
              class="form-control mr-sm-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-light my-2 my-sm-0" type="submit">
              Search
            </button>
          </form>
        </div>
      </div>
    </nav>

    <br />

    <br />
    <div class="container"style="background-color: rgb(207, 233, 240);">
      <h2 class="mb-2">Fill The Service Request Form</h2>
      <br />
      <form id="form-konfirmasi">
        <div class="form-group">
          <label for="typekendaraan">Type Kendaraan</label>
          <select id="typekendaraan" class="form-control">
            <option selected>Motor</option>
            <option>Mobil</option>
            <option>Truk</option>
            
          </select>
        </div>
        <!-- <div class="form-row">
          <div class="form-group col-md-6">
            <label for="typekendaraan">Type Kendaraan</label>
            <input type="text" class="form-control" id="typekendaraan" />
          </div> -->
          <div class="form-group ">
            <label for="merekkendaraan">Merek Kendaraan</label>
            <input type="text" class="form-control" id="merekkendaraan" />
          </div>
        
        <div class="form-group">
          <label for="nokendaraan">No.Polisi</label>
          <input
            type="text"
            class="form-control"
            id="nokendaraan"
            placeholder="DP XXXX TI "
          />
        </div>
        <div class="form-group">
          <label for="Service">Service</label>
          <select id="Service" class="form-control">
            <option selected>Tambal Ban</option>
            <option>Lainnya</option>
            
          </select>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="modelkendaraan">Model Kendaraan</label>
            <select id="modelkendaraan" class="form-control">
              <option selected>Metic</option>
              <option>Manual</option>
            </select>
          </div>

          <div class="form-group col-md-4">
            <label for="inputState">Jenis permintaan</label>
            <select id="inputState" class="form-control">
              <option selected>Drop off</option>
              <option>Pick up</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="gridCheck" />
            <label class="form-check-label" for="gridCheck">
              Check me out
            </label>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Next</button>
      </form>
    </div>
    <!-- <script>
      // Mengambil elemen form konfirmasi
      var konfirmasi = document.getElementById("form-konfirmasi");

      // Menambahkan event Listener pada pengiriman form konfirmasi
      konfirmasi.addEventListener("submit", function (event) {
        event.preventDefault(); // mencegah reload halaman

        // Mengambil nilai input konfirmasi
        var type = document.getElementById("typekendaraan").value;
        var merek = document.getElementById("merekkendaraan").value;
        var nomorpolisi = document.getElementById("nokendaraan").value;
        var servicek = document.getElementById("Service").value;
        var model = document.getElementById("modelkendaraan").value;
        var jenispermintaan = document.getElementById("inputState").value;

        // Memeriksa dan menyimpan data konfirmasi
        var storedUser = JSON.parse(localStorage.getItem("users")) || [];
        var tersimpan = storedUser.some(function (user) {
          return user.type === type;
        });
        if (tersimpan) {
          alert("Lengkapi data Anda");
        } else {
          var Simpandata = {
            type: type,
            merek: merek,
            nomorpolisi: nomorpolisi,
            servicek: servicek,
            model: model,
            jenispermintaan: jenispermintaan,
          };
          storedUser.push(Simpandata);
          localStorage.setItem("users", JSON.stringify(storedUser));
          alert("Data Berhasil Tersmpann");
          konfirmasi.reset();

          //Menuju halaman berikutnya
          //jika type = "motor"
            if (type)
          //maka tampilkan halaman metode pembayaran motor
          window.location.href = "metodepembayaran.html";

          
        }
      });
    </script> -->
<script>
  var konfirmasi = document.getElementById("form-konfirmasi");

// Menambahkan event Listener pada pengiriman form konfirmasi
konfirmasi.addEventListener("submit", function (event) {
  event.preventDefault(); // mencegah reload halaman

  // Mengambil nilai input konfirmasi
  var type = document.getElementById("typekendaraan").value;
  var merek = document.getElementById("merekkendaraan").value;
  var nomorpolisi = document.getElementById("nokendaraan").value;
  var servicek = document.getElementById("Service").value;
  var model = document.getElementById("modelkendaraan").value;
  var jenispermintaan = document.getElementById("inputState").value;

  // Memeriksa dan menyimpan data konfirmasi
  var storedUser = JSON.parse(localStorage.getItem("users")) || [];
  var tersimpan = storedUser.some(function (user) {
    return user.nomorpolisi === nomorpolisi;
  });
  if (tersimpan) {
    alert("Lengkapi data Anda");
  } else {
    var Simpandata = {
      type: type,
      merek: merek,
      nomorpolisi: nomorpolisi,
      servicek: servicek,
      model: model,
      jenispermintaan: jenispermintaan,
    };
    storedUser.push(Simpandata);
    localStorage.setItem("users", JSON.stringify(storedUser));

    // Menyimpan nilai variabel type ke localStorage
    localStorage.setItem('type', type);

    // Mendapatkan nilai variabel type dari localStorage
    var storedType = localStorage.getItem('type');

    // Memeriksa nilai storedType dan mengarahkan pengguna ke halaman yang sesuai
    if (storedType === "Motor") {
      // Mengarahkan ke halaman metode pembayaran motor
      window.location.href = "halaman_metode_pembayaran_motor.html";
    } else if (storedType === "Mobil") {
      // Mengarahkan ke halaman metode pembayaran mobil
      window.location.href = "halaman_metode_pembayaran_mobil.html";
    } else {
      // Mengarahkan ke halaman metode pembayaran truk
      window.location.href = "halaman_metode_pembayaran_truk.html";
    }

    alert("Data Berhasil Tersimpan");
    konfirmasi.reset();
  }
});
</script>
  </body>
</html>
